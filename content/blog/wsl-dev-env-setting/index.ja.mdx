---
title: "WSLé–‹ç™ºç’°å¢ƒè¨­å®š (with asdf)"
description: "aptã€homebrewã€nvmã€pyenv... ç§ãŸã¡ã¯ã‚ã¾ã‚Šã«ã‚‚å¤šãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨å…±ã«ç”Ÿãã¦ã„ã‚‹... å°‘ãªãã¨ã‚‚ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’ä¸€ã¤ã®ãƒ„ãƒ¼ãƒ«ã§è¡ŒãŠã†!!"
published: 2022-08-02T14:31:14.933Z
tags: ["asdf", "bat", "linux", "logo-ls", "terminal"]
lang:
  - ja
machine_translated: true
---

### update log

| æ—¥ä»˜       | å¤‰æ›´ç‚¹                                                                                                           |
| ---------- | ---------------------------------------------------------------------------------------------------------------- |
| 2022/02/18 | ğŸº æœ€åˆã«è¨˜äº‹ã‚’æ›¸ã„ãŸæ—¥                                                                                             |
| 2022/03/06 | èª¤å­—ä¿®æ­£                                                                                                        |
| 2022/08/02 | èª¤å­—ä¿®æ­£ã€asdfã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¿®æ­£ã€ãŠã™ã™ã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒªã‚¹ãƒˆè¿½åŠ ã€ã‚³ãƒ”ãƒšã—ã‚„ã™ã„ã‚ˆã†ã«è¨˜äº‹ä¿®æ­£ã€æœ€æ–°è¨­å®šã«è‹¥å¹²ä¿®æ­£ |

## æ¦‚è¦

Windowsã§é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹éš›ã€ã„ãã¤ã‹ã®ä¸ä¾¿ãªç‚¹ãŒã‚ã‚Šã¾ã—ãŸã€‚

å­˜åœ¨ã¯ã™ã‚‹ãŒã¾ã ä¸ååˆ†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ (winget)

åŸºæœ¬ã‚’ç„¡è¦–ã™ã‚‹éPOSIXã‚¿ãƒ¼ãƒŸãƒŠãƒ«

ãã‚Œã«ä¼´ã†å¤šãã®CLIãƒ™ãƒ¼ã‚¹ãƒ„ãƒ¼ãƒ«ã®éã‚µãƒãƒ¼ãƒˆ

ä¸€åº¦ã“ã˜ã‚Œã‚‹ã¨ã©ã“ã‹ã‚‰è§£æ±ºã™ã¹ãã‹ã‚ã‹ã‚‰ãªã„PATH

å®Ÿã¯ã€ã„ãã¤ã‹ã¯Windowsã«ã¤ã„ã¦çŸ¥ã‚‰ãªã„ã‹ã‚‰ç”Ÿã˜ã‚‹ä¸ä¾¿ã•ã¨å•é¡Œã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

ã§ã‚‚ã¡ã‚‡ã†ã©MicrosoftãŒWSLã¨ã„ã†ã»ã¼å®Œç’§ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€å½“ç„¶ä½¿ã†ã¹ãã§ã™ã‚ˆã­

ã¨ã«ã‹ãWSLã‚’ã†ã¾ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†

é€šå¸¸`wsl --install -d ubuntu`ã¾ãŸã¯Windows Storeã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚

å†èµ·å‹•ã‚’è¡Œã†ã¨ubuntuã®è‡ªå‹•èµ·å‹•ã¨ã¨ã‚‚ã«Linuxãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã®èª¬æ˜ã«å¾“ã£ã¦ãã ã•ã„

## ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

```bash
sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y
```

## VSCode remoteè¨­å®š

VSCodeã§\***\*[Remote - WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl)\*\***ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§`code .`ã‚’å…¥åŠ›

## Gitè¨­å®š

```bash
sudo apt-get install git
git config --global user.name "Your Name"
git config --global user.email "youremail@domain.com"
git config --global credential.helper "/mnt/c/Program\\ Files/Git/mingw64/bin/git-credential-manager.exe"
```

[Windowsã®crlfã¨WSLã®lfã®è¡çªã«ã‚ˆã‚‹å•é¡Œè§£æ±º](https://code.visualstudio.com/docs/remote/troubleshooting#_resolving-git-line-ending-issues-in-containers-resulting-in-many-modified-files)

## Dockerã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
// cmd or pwsh

winget install docker.desktop
```

docker desktop >> settings

General >> Use the WSL 2 based engine

Resources >> WSL INTEGRATION >> (turn on)

## zshã€oh-my-zshã€p10k themeã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
sudo apt install zsh
sh -c "$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)"
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/themes/powerlevel10k
```

p10kãƒ†ãƒ¼ãƒã®ç¾ã—ã•ã®ãŸã‚ã«[Nerd Fonts](https://github.com/ryanoasis/nerd-fonts)ã€[Source Code Pro](https://github.com/adobe-fonts/source-code-pro)ã€[Font Awesome](https://fontawesome.com/)ã€[Powerline](https://github.com/powerline/fonts)ãƒ•ã‚©ãƒ³ãƒˆã®ä¸­ã‹ã‚‰ä¸€ã¤ã‚’é¸ã‚“ã§Windowsã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’å¤‰æ›´ã—ã¾ã—ã‚‡ã†

\*\* Nerd Fontsã‚’ä½¿ç”¨ã™ã‚‹æ™‚ã®ã¿p10kãƒ†ãƒ¼ãƒã®å…¨ã¦ã®è¨­å®šã‚’æœ‰åŠ¹ã«ã§ãã¾ã™ã€‚

(Meslo Nerd FontãŠã™ã™ã‚)

~/.zshrcãƒ•ã‚¡ã‚¤ãƒ«ã®

`ZSH_THEME="robbyrussell"`ã¨æ›¸ã‹ã‚ŒãŸè¡Œã‚’
 `ZSH_THEME="powerlevel10k/powerlevel10k"`
 ã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

`source ~/.zshrc`ã§p10kãƒ†ãƒ¼ãƒã‚’é©ç”¨ã—ã¾ã™ã€‚

è¨­å®šã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã®ã‚ˆã†ãªç”»é¢ãŒå‡ºã‚‹ã®ã§ã€é©å½“ã«å¥½ã¿ã®ãƒ†ãƒ¼ãƒã‚’è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚
ã‚‚ã†ä¸€åº¦è¨­å®šã—ãŸã„å ´åˆã¯`p10k configure`ã‚³ãƒãƒ³ãƒ‰ã§å¯èƒ½ã§ã™ã€‚

ç­†è€…ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚
![](./images/cbec45ac-e3c6-4e00-8cd1-a5990b38682c-image.png)

## oh-my-zshãƒ—ãƒ©ã‚°ã‚¤ãƒ³

```bash
# zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```

~/.zshrcãƒ•ã‚¡ã‚¤ãƒ«ã®pluginsé …ç›®ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¿½åŠ ã—ã¾ã™ã€‚

```bash
plugins=(
  zsh-syntax-highlighting
  zsh-autosuggestions
)
```

### ãŠã™ã™ã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒªã‚¹ãƒˆ

```bash
plugins=(
  z
  gh
  git
  httpie
  sudo
  rust
  copypath
  direnv
  golang
  python
  docker-compose
  docker
  asdf
  zsh-syntax-highlighting
  zsh-autosuggestions
)
```

`source .zshrc`

## ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å…¥åŠ›å•é¡Œã®è§£æ±º

Windows Terminalã¨oh-my-zshã®ä½•ã‚‰ã‹ã®å•é¡Œã«ã‚ˆã‚Š

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è²¼ã‚Šä»˜ã‘ã‚’è¡Œã†éš›ã€ä¸€æ–‡å­—ãšã¤ã‚†ã£ãã‚Šå…¥åŠ›ã•ã‚Œã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚

~~ãªããªã£ã¦ã„ã‚Œã°å¹¸ã„ã§ã™ãŒ..~~

ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ã«ã¯~/.zshrcã«ä»¥ä¸‹ã®ä¸€è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚

```bash
DISABLE_MAGIC_FUNCTIONS="true"
```

ãã®å¾Œ`source ~/.zshrc`ã¾ãŸã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã™ã‚‹ã¨ã€ã“ã®å•é¡ŒãŒãªããªã£ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŠã™ã™ã‚ãƒ„ãƒ¼ãƒ«

## batã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (clone cat)

[Releases Â· sharkdp/bat](https://github.com/sharkdp/bat/releases)

```bash
bat_version_amd64.deb <- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
sudo dpkg -i bat_version_amd64.deb
```

.zshrcã«è¿½åŠ 

```bash
alias cat="bat"
```

ã“ã‚Œã§ãã‚Œã„ãªcatã«ç½®ãæ›ã‚ã‚Šã¾ã—ãŸ

![](./images/fb73e92a-040b-409b-b990-deb87e26686a-image.png)
è¦šãˆã¦ãŠãã¨è‰¯ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦`--plain`ãŒã‚ã‚Šã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰ã‚ã‚Šã€ã‚³ãƒ”ãƒ¼ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚
![](./images/d97ebd45-3cc8-4b1e-a91e-2c3f9e93bfae-image.png)

## logo-lsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

[Releases Â· Yash-Handa/logo-ls](https://github.com/Yash-Handa/logo-ls/releases)

```bash
logo-ls_amd64.deb <- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
sudo dpkg -i logo-ls_amd64.deb
```

zshrcã«ä»¥ä¸‹ã®è¡Œã‚’è¿½åŠ 

```bash
alias ls="logo-ls"
```

lsã‚³ãƒãƒ³ãƒ‰ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒã¤ãã¾ã—ãŸã€‚
å…ƒã€…ã®å‘³æ°—ãªã„`ls`ã‚³ãƒãƒ³ãƒ‰ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒã¤ã„ãŸã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚
![](./images/e5d83a96-c50c-4ad7-8691-8f312e2ea1e6-image.png)

## asdfã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (version manager)

nodeã€pythonã€goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å•é¡Œã‚’ä¸€åº¦ã«è§£æ±ºã§ãã¾ã™ã€‚

```bash
git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.10.2
```

`~/.zshrc`ã«è¿½åŠ 

```bash
. $HOME/.asdf/asdf.sh

# append completions to fpath
fpath=(${ASDF_DIR}/completions $fpath)
# initialise completions with ZSH's compinit
autoload -Uz compinit && compinit
```

[ohmyzsh/plugins/asdf at master Â· ohmyzsh/ohmyzsh](https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/asdf)

`source ~/.zshrc`

ã“ã‚Œã§asdfã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

## asdfã‚’ä½¿ç”¨ã—ã¦nodeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

nodeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
asdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git
```

nodeæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
asdf install nodejs latest
```

nodeã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ã®ä½¿ç”¨ã‚’å®£è¨€

```bash
asdf global nodejs latest
```

## asdfã‚’ä½¿ç”¨ã—ã¦pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

pythonãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
sudo apt-get update; sudo apt-get install make build-essential libssl-dev zlib1g-dev \
libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm \
libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev
```

pythonãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
asdf plugin-add python
```

pythonæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
asdf install python latest
```

pythonã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ã®ä½¿ç”¨ã‚’å®£è¨€

```bash
asdf global python latest
```

## asdfã‚’ä½¿ç”¨ã—ã¦golangã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

nodeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
asdf plugin-add golang
```

nodeæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
asdf install golang latest
```

nodeã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ã®ä½¿ç”¨ã‚’å®£è¨€

```bash
asdf global golang latest
```

### asdfä½¿ç”¨ã®ã‚³ãƒ„ ğŸ’¡

aws-cliã€hugoãªã©ã®CLIãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’åŠ©ã‘ã¦ãã‚Œã‚‹è‰¯ã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
ä¸€èˆ¬çš„ã«ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ã€å…ˆã«è¦‹ãŸã‚ˆã†ã«ä»¥ä¸‹ã®4ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚

1. è©²å½“ãƒ„ãƒ¼ãƒ«ã®ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆå ´åˆã«ã‚ˆã‚Šç•°ãªã‚‹ï¼‰
2. è©²å½“ãƒ„ãƒ¼ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (plugin-add)
3. ãƒ„ãƒ¼ãƒ«ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (install)
4. ãƒ„ãƒ¼ãƒ«ã®ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å…¨ä½“ä½¿ç”¨å®£è¨€ (global)

## rustupã‚’ä½¿ç”¨ã—ãŸrustã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Rustã®å ´åˆã‚‚asdfã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ãŒã€é–‹ç™ºä¸­ã«å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚‹ãŸã‚ã€rustupã‚’ä½¿ç”¨ã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

é¸æŠã™ã‚‹ã‚ˆã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³1ç•ªã‚’é¸æŠï¼ˆdefaultï¼‰

ãã‚Œã„ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚
