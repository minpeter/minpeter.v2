---
title: "ThinkPad BIOS起動イメージの変更"
date: 2022-09-08T18:14:00.000Z
tags: ["bios", "thinkpad", "linux", "windows", "custom"]
lang:
  - ja
machine_translated: true
---

### 更新履歴

| 日付       | 変更点                                                                                                                                    |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| 2020/XX/XX | この記事が作成された日（かなり前のブログから移行した記事なので日付メタデータがありません..）                                              |
| 2021/08/22 | Jekyllを活用するブログに移行                                                                                                              |
| 2022/09/08 | Linuxで... → ThinkPad BIOS起動イメージの変更にタイトル変更、Windowsでの方法追加、細かいディテール追加、タグ追加、更新履歴追加 |

### 序文

私は不思議とThinkPadが好きな病気にかかっています。
新しいノートパソコンを買う時、同じ価格帯にMacBookという選択肢があったにもかかわらず、あえてT14s gen3を選んだほどに...？
以前使っていたT470にはLinuxをインストールして使用していましたし、今のT14s gen3はWindowsとWSL2を愛用しています。
新しいノートパソコン購入ついでに見苦しい赤いLenovoロゴの代わりに、Windowsでかわいいgolangマスコットのgopherに変更する方法を追加しようと思います。
この記事がもともとLinuxでBIOS起動イメージを変更する方法を説明する記事だったので、Linuxでの方法も案内しています。
この記事がより楽しいThinkPadライフの助けになれば幸いです。

## Windows / Linux共通事項

ThinkPadにはBIOSにカスタムイメージを入れる**機能**が存在します。
これを機能と呼べる理由は、IdeaPad / Legionの場合は特別な修正なしには不可能だからです。

この記事で変更するのはこの画面です。
![](/images/default-logo.jpg)

Lenovoロゴを置き換えるイメージを作成する必要がありますが、次のような条件があります。

1. ノートパソコン解像度の40%以下の解像度（1920 x 1200基準で最大768 \* 480）
2. 許可されるファイル拡張子はGIF、BMP、JPG
3. 画像サイズは最大60KB

私の場合は次のようにイメージを作成しました。

1. 気に入ったgopherを検索
2. ダウンロード後[remove.bg](https://remove.bg/)で背景を除去
3. gimpを使って768 \* 480キャンバスを作成し背景を黒（000000）に設定
4. 背景を除去した画像を中央に配置
5. GIFでエクスポート（なぜかGIFが一番成功率が高い）

ここであえて背景を除去して黒に置き換える理由は、起動時にきれいに表示されるからです。

前処理した結果は[/images/LOGO.GIF](/images/LOGO.GIF)で確認できます。
~~（変更したブログフレームワークがGIFを処理できません）~~

Go Gopherと呼ばれるこのキャラクターは... CCA 3.0ライセンスです。
CCA 3.0は原作者表示の下で商用利用も許可しているので、上の画像をダウンロードして使用しても大丈夫です。
余談で原作者の[Renee French](http://reneefrench.blogspot.com/)...怖いので行かないでください。

ここからBIOSが最新バージョンの場合とそうでない場合に分かれますが、最新バージョンの場合は同じバージョンのBIOSを使用できないようにブロックされています。
そのため古いBIOSをアップロードしてから再度アップデートすればイメージを変更できますし、BIOSが最新バージョンでない場合はそのままイメージ変更作業を行えば良いです。
したがって自分のBIOSが古い場合は最新バージョンのBIOSだけダウンロードすれば良いです。
しかし最新バージョンのBIOSであるか、イメージ変更に失敗した場合は最新の一つ前のバージョンのBIOSにダウングレードしてから再度試せば動作するでしょう。

この記事ではLinux / Windows両方ともすでに最新バージョンのBIOSであることを前提に説明します。
古いBIOSなら適宜スキップしてください。
（実はそのままやっても問題ないので...？）

一部のモデルのBIOS設定には古いBIOSにロールバックできないようにするオプションが有効になっている場合があります。
新しく買ったT14s gen3がそうでした。

解決するためにF1でBIOSに入り > Security > UEFI BIOS Update Option > Secure RollBack PreventionオプションをEnabledからDisabledに変更する必要があります。
このオプションはイメージ変更後に再度有効化するので心配しなくて大丈夫です。

次にLenovoが提供するBIOSイメージをダウンロードする必要があります。

1. [Lenovo PCテクニカルサポート](https://pcsupport.lenovo.com/)で自分のモデル名を検索する。
2. Drivers & Softwareをクリックする
3. Manual Update > BIOS/UEFI項目でBIOS Update (Utility & Bootable CD)項目のドキュメントアイコンであるDetailsボタンを押す。

![](/images/Screenshot-2022-09-08-185318.png)

最新バージョン（画像基準1.29）と一つ前のバージョン（1.28）をダウンロードして作業を進める必要がありますが、ここからWindowsとLinuxそれぞれ作業が異なります。
各自の環境に合わせて進めてください :)
ただし記事では2022/09/08日の1.29バージョンが最新の時点で作成したので、バージョンは適宜変更して進めてください。

## Windowsで...

Windowsでの方法は次の通りです

1. BIOS Update Utility (Windows)ファイルをバージョン別にダウンロードする。
   （画像基準でn3cur03w.exeと少し上にある1.29バージョンのn3cur04w.exe）

2. 古いn3cur03w.exeを実行して次のウィンドウが表示されるまで進める。

![](/images/Screenshot-2022-09-08-203335.png)

3. Installを選択して続ける。

4. 自動的にコンピュータが再起動し、待つとダウングレードが進行する。
   **電源接続は必須です。ブリック化したくなければ安定した電源を確保してから進めてください**

5. 正常にコンピュータが起動したら1.29バージョンファイルのn3cur04w.exeを実行する。

![](/images/Screenshot-2022-09-08-203117.png)

6. 上の画面でExtract Onlyを選択して続ける。

7. `C:\DRIVERS\FLASH\n3cuj04w\20220709.2341095`パスに移動する。（バージョンによってパスは異なりますが、\FLASHまでは一致するはずです。よく探してください）

8. 準備したイメージを`Rfs\StartupImages`フォルダに入れる。
   この時ファイル名は**LOGO.GIF**、**LOGO.JPG**、**LOGO.BMP**のいずれかでなければならない。

9. `WINUPTP.EXE`ファイルを見つけて実行し、待つと変更されたロゴで起動が進行する。
   次のBIOSアップデートを行っても維持される。
   おめでとうございます！！これでよりかわいい起動イメージを入れることができました :)

## Linuxで...

1.29バージョンからはLinuxでもBIOS Update Utilityを使用できるようです。
まだサポートされていないモデルも存在し、使用したことがないので今は従来の方式を使用します。

Linuxでも起動イメージの変更は可能です。
でも可能とは言いましたが簡単とは言っていません。

Linuxでの方法は次の通りです

1. BIOS Update Bootable CDファイルをバージョン別にダウンロードする。
   （画像基準でn3cur03w.isoと少し上にある1.29バージョンのn3cur04w.iso）

2. ファイルがダウンロードされたら`geteltorito -o bios-image.img n3cur03w.iso`コマンドを入力する。

3. USBを1つ用意し（情報が消えるので注意）、lsblkコマンドでUSBディスクパスを調べる。

4. `sudo dd if=bios-image.img of=/dev/sdX bs=1M status=progress oflag=sync`コマンドを入力するが、`of=/dev/sd`の後のX値は自分のディスクパスに合わせて修正する

5. ノートパソコンをシャットダウン後、USB起動してyとenterを適切に押してBIOSをダウングレードする。

6. ダウングレード完了後、上の2-4過程を1.28バージョンファイルではなく1.29バージョンファイルで進める。

7. USBを開くとEFI、FLASHフォルダがあるはずで、その中の`FLASH`フォルダの下に準備したイメージを入れる。
   この時ファイル名は**LOGO.GIF**、**LOGO.JPG**、**LOGO.BMP**のいずれかでなければならない。

8. 次にそのUSBで起動してyとenterを適切に押せばBIOSアップデートと共にロゴイメージが適用される！

## - END -

作成理由は... BIOSがアップデートされたら解除されるかもしれないので、解除されたら再度行うためにメモしておきました。
~~これが私の最初のブログの定番だったな.. うーん.. なぜ記事ごとに書いた理由をいちいち書いていたのかわからない笑~~
